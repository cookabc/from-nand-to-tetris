
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>2.Specification Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="03-Implementation.html" />
    
    
    <link rel="prev" href="01-Background.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    From Nand To Tetris
            
                </a>
            

            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../chapter00/Preface.html">
            
                <a href="../chapter00/Preface.html">
            
                    
                    Preface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../chapter01/00-Boolean_Logic.html">
            
                <a href="../chapter01/00-Boolean_Logic.html">
            
                    
                    01. Boolean Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../chapter01/01-Background.html">
            
                <a href="../chapter01/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../chapter01/02-Specification.html">
            
                <a href="../chapter01/02-Specification.html">
            
                    
                    2.Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../chapter01/03-Implementation.html">
            
                <a href="../chapter01/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../chapter01/04-Perspective.html">
            
                <a href="../chapter01/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../chapter01/05-Project.html">
            
                <a href="../chapter01/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../chapter02/00-Boolean_Arithmetic.html">
            
                <a href="../chapter02/00-Boolean_Arithmetic.html">
            
                    
                    02. Boolean Arithmetic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../chapter02/01-Background.html">
            
                <a href="../chapter02/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../chapter02/02-Specification.html">
            
                <a href="../chapter02/02-Specification.html">
            
                    
                    2.Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../chapter02/03-Implementation.html">
            
                <a href="../chapter02/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.4" data-path="../chapter02/04-Perspective.html">
            
                <a href="../chapter02/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.5" data-path="../chapter02/05-Project.html">
            
                <a href="../chapter02/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../chapter03/00-Sequential_Logic.html">
            
                <a href="../chapter03/00-Sequential_Logic.html">
            
                    
                    03. Sequential Logic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.4.1" data-path="../chapter03/01-Background.html">
            
                <a href="../chapter03/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.2" data-path="../chapter03/02-Specification.html">
            
                <a href="../chapter03/02-Specification.html">
            
                    
                    2.Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.3" data-path="../chapter03/03-Implementation.html">
            
                <a href="../chapter03/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.4" data-path="../chapter03/04-Perspective.html">
            
                <a href="../chapter03/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4.5" data-path="../chapter03/05-Project.html">
            
                <a href="../chapter03/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../chapter04/00-Machine_Language.html">
            
                <a href="../chapter04/00-Machine_Language.html">
            
                    
                    04. Machine Language
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="../chapter04/01-Background.html">
            
                <a href="../chapter04/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="../chapter04/02-Hack_Machine_Language_Specification.html">
            
                <a href="../chapter04/02-Hack_Machine_Language_Specification.html">
            
                    
                    2.Hack Machine Language Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.3" data-path="../chapter04/03-Perspective.html">
            
                <a href="../chapter04/03-Perspective.html">
            
                    
                    3.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.4" data-path="../chapter04/04-Project.html">
            
                <a href="../chapter04/04-Project.html">
            
                    
                    4.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../chapter05/00-Computer_Architecture.html">
            
                <a href="../chapter05/00-Computer_Architecture.html">
            
                    
                    05. Computer Architecture
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.6.1" data-path="../chapter05/01-Background.html">
            
                <a href="../chapter05/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.2" data-path="../chapter05/02-The_Hack_Hardware_Platform_Specification.html">
            
                <a href="../chapter05/02-The_Hack_Hardware_Platform_Specification.html">
            
                    
                    2.The Hack Hardware Platform Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.3" data-path="../chapter05/03-Implementation.html">
            
                <a href="../chapter05/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.4" data-path="../chapter05/04-Perspective.html">
            
                <a href="../chapter05/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6.5" data-path="../chapter05/05-Project.html">
            
                <a href="../chapter05/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../chapter06/00-Assembler.html">
            
                <a href="../chapter06/00-Assembler.html">
            
                    
                    06. Assembler
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.7.1" data-path="../chapter06/01-Background.html">
            
                <a href="../chapter06/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.2" data-path="../chapter06/02-Hack_Assembly-to-Binary_Translatio_Specification.html">
            
                <a href="../chapter06/02-Hack_Assembly-to-Binary_Translatio_Specification.html">
            
                    
                    2.Hack Assembly-to-Binary Translation Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.3" data-path="../chapter06/03-Implementation.html">
            
                <a href="../chapter06/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.4" data-path="../chapter06/04-Perspective.html">
            
                <a href="../chapter06/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7.5" data-path="../chapter06/05-Project.html">
            
                <a href="../chapter06/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="../chapter07/00-Virtual_Machine_I_Stack_Arithmetic.html">
            
                <a href="../chapter07/00-Virtual_Machine_I_Stack_Arithmetic.html">
            
                    
                    07. Virtual Machine I: Stack Arithmetic
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.8.1" data-path="../chapter07/01-Background.html">
            
                <a href="../chapter07/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.2" data-path="../chapter07/02-VM_Specification_Part_I.html">
            
                <a href="../chapter07/02-VM_Specification_Part_I.html">
            
                    
                    2.VM Specification, Part I
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.3" data-path="../chapter07/03-Implementation.html">
            
                <a href="../chapter07/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.4" data-path="../chapter07/04-Perspective.html">
            
                <a href="../chapter07/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8.5" data-path="../chapter07/05-Project.html">
            
                <a href="../chapter07/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="../chapter08/00-Virtual_Machine_II_Program_Control.html">
            
                <a href="../chapter08/00-Virtual_Machine_II_Program_Control.html">
            
                    
                    08. Virtual Machine II: Program Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.9.1" data-path="../chapter08/01-Background.html">
            
                <a href="../chapter08/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.2" data-path="../chapter08/02-VM_Specification_Part_II.html">
            
                <a href="../chapter08/02-VM_Specification_Part_II.html">
            
                    
                    2.VM Specification, Part II
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.3" data-path="../chapter08/03-Implementation.html">
            
                <a href="../chapter08/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.4" data-path="../chapter08/04-Perspective.html">
            
                <a href="../chapter08/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9.5" data-path="../chapter08/05-Project.html">
            
                <a href="../chapter08/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="../chapter09/00-High-Level_Language.html">
            
                <a href="../chapter09/00-High-Level_Language.html">
            
                    
                    09. High-Level Language
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.10.1" data-path="../chapter09/01-Background.html">
            
                <a href="../chapter09/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.2" data-path="../chapter09/02-The_Jack_Language_Specification.html">
            
                <a href="../chapter09/02-The_Jack_Language_Specification.html">
            
                    
                    2.The Jack Language Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.3" data-path="../chapter09/03-Writing_Jack_Applications.html">
            
                <a href="../chapter09/03-Writing_Jack_Applications.html">
            
                    
                    3.Writing Jack Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.4" data-path="../chapter09/04-Perspective.html">
            
                <a href="../chapter09/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10.5" data-path="../chapter09/05-Project.html">
            
                <a href="../chapter09/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="00-Compiler_I_Syntax_Analysis.html">
            
                <a href="00-Compiler_I_Syntax_Analysis.html">
            
                    
                    10. Compiler I: Syntax Analysis
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.11.1" data-path="01-Background.html">
            
                <a href="01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.11.2" data-path="02-Specification.html">
            
                <a href="02-Specification.html">
            
                    
                    2.Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.3" data-path="03-Implementation.html">
            
                <a href="03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.4" data-path="04-Perspective.html">
            
                <a href="04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11.5" data-path="05-Project.html">
            
                <a href="05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="../chapter11/00-Compiler_II_Code_Generation.html">
            
                <a href="../chapter11/00-Compiler_II_Code_Generation.html">
            
                    
                    11. Compiler II: Code Generation
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.12.1" data-path="../chapter11/01-Background.html">
            
                <a href="../chapter11/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.2" data-path="../chapter11/02-Specification.html">
            
                <a href="../chapter11/02-Specification.html">
            
                    
                    2.Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.3" data-path="../chapter11/03-Implementation.html">
            
                <a href="../chapter11/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.4" data-path="../chapter11/04-Perspective.html">
            
                <a href="../chapter11/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12.5" data-path="../chapter11/05-Project.html">
            
                <a href="../chapter11/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="../chapter12/00-Operating_System.html">
            
                <a href="../chapter12/00-Operating_System.html">
            
                    
                    12. Operating System
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.13.1" data-path="../chapter12/01-Background.html">
            
                <a href="../chapter12/01-Background.html">
            
                    
                    1.Background
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13.2" data-path="../chapter12/02-The_Jack_OS_Specification.html">
            
                <a href="../chapter12/02-The_Jack_OS_Specification.html">
            
                    
                    2.The Jack OS Specification
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13.3" data-path="../chapter12/03-Implementation.html">
            
                <a href="../chapter12/03-Implementation.html">
            
                    
                    3.Implementation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13.4" data-path="../chapter12/04-Perspective.html">
            
                <a href="../chapter12/04-Perspective.html">
            
                    
                    4.Perspective
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13.5" data-path="../chapter12/05-Project.html">
            
                <a href="../chapter12/05-Project.html">
            
                    
                    5.Project
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="../chapter13/00-Postscript_More_Fun_to_Go.html">
            
                <a href="../chapter13/00-Postscript_More_Fun_to_Go.html">
            
                    
                    13. Postscript: More Fun to Go
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.14.1" data-path="../chapter13/01-Hardware_Realizations.html">
            
                <a href="../chapter13/01-Hardware_Realizations.html">
            
                    
                    1.Hardware Realizations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.2" data-path="../chapter13/02-Hardware_Improvements.html">
            
                <a href="../chapter13/02-Hardware_Improvements.html">
            
                    
                    2.Hardware Improvements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.3" data-path="../chapter13/03-High-Level_Languages.html">
            
                <a href="../chapter13/03-High-Level_Languages.html">
            
                    
                    3.High-Level Languages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.4" data-path="../chapter13/04-Optimizations.html">
            
                <a href="../chapter13/04-Optimizations.html">
            
                    
                    4.Optimizations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14.5" data-path="../chapter13/05-Communications.html">
            
                <a href="../chapter13/05-Communications.html">
            
                    
                    5.Communications
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >2.Specification</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h3 id="102-specification">10.2 Specification</h3>
<hr>
<p>&#x2003;&#x2003;This section has two distinct parts. First, we specify the Jack language&#x2019;s grammar. Next, we specify a syntax analyzer designed to parse programs according to this grammar.</p>
<h4 id="1021-the-jack-language-grammar">10.2.1 The Jack Language Grammar</h4>
<p>&#x2003;&#x2003;The functional specification of the Jack language given in chapter 9 was aimed at Jack programmers. We now turn to giving a formal specification of the language, aimed at Jack compiler developers. Our grammar specification is based on the following conventions:</p>
<p>&#x2003;&#x2003;&#x2018;xxx&#x2019;: quoted boldface is used for tokens that appear verbatim (&#x201C;terminals&#x201D;);</p>
<p>&#x2003;&#x2003;xxx: regular typeface is used for names of language constructs (&#x201C;non-terminals&#x201D;); (): parentheses are used for grouping of language constructs;</p>
<p>&#x2003;&#x2003;x|y: indicates that either x or y can appear;</p>
<p>&#x2003;&#x2003;x?: indicates that x appears 0 or 1 times;</p>
<p>&#x2003;&#x2003;x*: indicates that x appears 0 or more times.</p>
<p>&#x2003;&#x2003;The Jack language syntax is given in figure 10.5, using the preceding conventions.</p>
<h4 id="1022-a-syntax-analyzer-for-the-jack-language">10.2.2 A Syntax Analyzer for the Jack Language</h4>
<p>&#x2003;&#x2003;The main purpose of the syntax analyzer is to read a Jack program and &#x201C;understand&#x201D; its syntactic structure according to the Jack grammar. By understanding, we mean that the syntax analyzer must know, at each point in the parsing process, the structural identity of the program element that it is currently reading, namely, whether it is an expression, a statement, a variable name, and so on. The syntax analyzer must possess this syntactic knowledge in a complete recursive sense. Without it, it will be impossible to move on to code generation&#x2014;the ultimate goal of the overall compiler.</p>
<div align="center"><img width="500" src="../figure/10/10.5.png"></div>

<div align="center"><img width="500" src="../figure/10/10.5a.png"></div>

<p>&#x2003;&#x2003;<strong>Figure 10.65</strong> Complete grammar of the Jack language.</p>
<p>&#x2003;&#x2003;The fact that the syntax analyzer &#x201C;understands&#x201D; the programmatic structure of the input can be demonstrated by having it print the processed text in some well-structured and easy-to-read format. One can think of several ways to cook up such a demonstration. In this book, we decided to have the syntax analyzer output an XML file whose marked-up format reflects the syntactic structure of the underlying program. By viewing this XML output file&#x2014;a task that can be conveniently done with any Web browser &#x2014;one should be able to tell right away if the syntax analyzer is doing the job or not.</p>
<h4 id="1023-the-syntax-analyzers-input">10.2.3 The Syntax Analyzer&#x2019;s Input</h4>
<p>&#x2003;&#x2003;The Jack syntax analyzer accepts a single command line parameter, as follows:</p>
<pre><code>  prompt&gt; JackAnalyzer source
</code></pre><p>&#x2003;&#x2003;Where <em>source</em> is either a file name of the form Xxx.jack (the extension is mandatory) or a directory name containing one or more .jack files (in which case there is no extension). The syntax analyzer compiles the Xxx.jack file into a file named Xxx.xml, created in the same directory in which the source file is located. If source is a directory name, each .jack file located in it is compiled, creating a corresponding .xml file in the same directory.</p>
<p>&#x2003;&#x2003;Each Xxx.jack file is a stream of characters. This stream should be tokenized into a stream of tokens according to the rules specified by the lexical elements of the Jack language (see figure 10.5, top). The tokens may be separated by an arbitrary number of space characters, newline characters, and comments, which are ignored. Comments are of the standard formats /<em> comment until closing </em>/, /<em>* API comment </em>/, and // comment to end of line.</p>
<h4 id="1024-the-syntax-analyzers-output">10.2.4 The Syntax Analyzer&#x2019;s Output</h4>
<p>&#x2003;&#x2003;Recall that the development of the Jack compiler is split into two stages (see figure 10.1), starting with the syntax analyzer. In this chapter, we want the syntax analyzer to emit an XML description of the input program, as illustrated in figure 10.6. In order to do so, the syntax analyzer has to recognize two major types of language constructs: terminal and non-terminal elements. These constructs are handled as follows.</p>
<p>&#x2003;&#x2003;<strong>Non-Terminals</strong> Whenever a non-terminal language element of type xxx is encountered, the syntax analyzer should generate the marked-up output:</p>
<pre><code>  &lt;xxx&gt;
    Recursive code for the body of the xxx element
  &lt;/xxx&gt;
</code></pre><p>&#x2003;&#x2003;Where xxx is one of the following (and only the following) non-terminals of the Jack grammar:</p>
<p>  &#x2003;&#x2003;&#x25A0; class, classVarDec, subroutineDec, parameterList, subroutineBody, varDec;</p>
<p>  &#x2003;&#x2003;&#x25A0; statements, whileSatement, ifStatement, returnStatement, letStatement, doStatement;</p>
<p>  &#x2003;&#x2003;&#x25A0; expression, term, expressionList.</p>
<p>&#x2003;&#x2003;<strong>Terminals</strong> Whenever a terminal language element of type xxx is encountered, the syntax analyzer should generate the marked-up output:</p>
<pre><code>  &lt;xxx&gt;terminal&lt;/xxx&gt;
</code></pre><p>&#x2003;&#x2003;Where xxx is one of the five token types recognized by the Jack language (as specified in the Jack grammar&#x2019;s &#x201C;lexical elements&#x201D; section), namely, keyword, symbol, integerConstant, stringConstant, or identifier.</p>
<p>&#x2003;&#x2003;Figure 10.6, which shows the analyzer&#x2019;s output, should evoke some sense of d&#xE9;j&#xE0; vu. Earlier in the chapter we noted that the structure of a program can be analyzed into a parse tree. And indeed, XML output is simply a textual description of a tree. In particular, note that in a parse tree, the non-terminal nodes form a &#x201C;super structure&#x201D; that describes how the tree&#x2019;s terminal nodes (the tokens) are grouped into language constructs. This pattern is mirrored in the XML output, where non-terminal XML elements describe how terminal XML items are arranged. In a similar fashion, the tokens generated by the tokenizer form the lowest level of the XML output, just as they form the terminal leaves of the program&#x2019;s parse tree.</p>
<div align="center"><img width="500" src="../figure/10/10.6.png"></div>

<p>&#x2003;&#x2003;<strong>Figure 10.6</strong> Jack Analyzer in action.</p>
<p>&#x2003;&#x2003;<strong>Code Generation</strong> We have just finished specifying the analyzer&#x2019;s XML output. In the next chapter we replace the software that generates this output with software that generates executable VM code, leading to a full-scale Jack compiler.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="01-Background.html" class="navigation navigation-prev " aria-label="Previous page: 1.Background">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="03-Implementation.html" class="navigation navigation-next " aria-label="Next page: 3.Implementation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.Specification","level":"2.11.2","depth":2,"next":{"title":"3.Implementation","level":"2.11.3","depth":2,"path":"chapter10/03-Implementation.md","ref":"chapter10/03-Implementation.md","articles":[]},"previous":{"title":"1.Background","level":"2.11.1","depth":2,"path":"chapter10/01-Background.md","ref":"chapter10/01-Background.md","articles":[]},"dir":"ltr"},"config":{"plugins":["expandable-chapters-small"],"root":"./","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"expandable-chapters-small":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"3.2.3"},"file":{"path":"chapter10/02-Specification.md","mtime":"2019-11-25T02:00:04.570Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-11-25T02:27:55.981Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

